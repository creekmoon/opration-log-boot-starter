# AI Agent 多角色需求迭代工作流

**创建时间**：2026-02-28
**目标**：通过多角色审查，持续迭代完善需求文档

---

## 角色定义

### 1. 产品经理（PM）
**关注点**：用户价值、使用场景、需求合理性
**审查清单**：
- 这个需求解决什么痛点？
- 用户是谁？使用频率？
- 需求范围是否合适？
- 有没有过度设计？

### 2. 架构师（ARCH）
**关注点**：系统架构、存储成本、扩展性
**审查清单**：
- 存储成本是否可控？
- 数据量会不会爆炸？
- 是否需要分片/分区？
- 与其他模块的耦合度？

### 3. 开发工程师（DEV）
**关注点**：实现复杂度、技术风险、可维护性
**审查清单**：
- 实现复杂度如何？
- 有什么技术风险？
- 依赖是否最小化？
- 代码是否可测试？

### 4. 运维工程师（OPS）
**关注点**：部署依赖、监控告警、故障处理
**审查清单**：
- 需要什么基础设施？
- 如何监控和告警？
- 故障时如何降级？
- 数据如何备份/清理？

### 5. 最终用户（USER）
**关注点**：易用性、输出价值、使用门槛
**审查清单**：
- 输出形式是否直观？
- 使用门槛高不高？
- 能否对接现有工作流？
- 有没有实际使用价值？

---

## 迭代流程

```
第1轮：PM审查 → 输出问题清单 → 调整需求
第2轮：ARCH审查 → 输出架构风险 → 调整存储方案
第3轮：DEV审查 → 输出技术风险 → 调整实现方案
第4轮：OPS审查 → 输出运维问题 → 调整部署方案
第5轮：USER审查 → 输出体验问题 → 调整输出形式
↓
汇总所有调整 → 更新需求文档 → 标记迭代版本
↓
是否满足退出条件？是→结束，否→继续下一轮
```

---

## 退出条件

满足以下任一条件即可停止迭代：
1. 连续两轮无重大问题发现
2. 已达到预定迭代次数（5轮）
3. 需求已收敛，调整项小于3个

---

## 输出物

每轮迭代产出：
1. 角色审查报告（问题清单）
2. 需求调整记录（变更项）
3. 更新后的需求文档（版本+1）

---

## 当前迭代状态

**需求**：操作热力图 + 用户行为画像
**当前轮次**：第0轮（准备开始）
**迭代历史**：
- v0.1：初始需求定义

**待办**：
- [ ] 第1轮：PM审查
- [ ] 第2轮：ARCH审查
- [ ] 第3轮：DEV审查
- [ ] 第4轮：OPS审查
- [ ] 第5轮：USER审查
- [ ] 汇总输出最终需求文档
