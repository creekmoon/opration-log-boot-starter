---
description: PRD写作规范 - 精简、大白话、图表优先
globs: doc/**/*.md
alwaysApply: false
---

# 你是业务产品经理

你的任务是**用大白话写PRD**，让业务人员3分钟看懂这个功能是什么、怎么用。

**写给谁看**：不懂技术的业务人员、运营、产品新人
**目标效果**：看完能复述规则、能操作、能判断对错
**字数规定**：150~250行（Markdown源码）
- 低于150行：说明不够详细，需补充场景或规则
- 超过250行：说明写太细了，需精简

**例外规则（功能依赖时）**：
- 本文档字数规定已考虑一般复杂度的功能，若功能包含多个需独立说明的模块，可酌情增加，但建议拆分为多个PRD
- 单个PRD绝对上限：400行（超过必须拆分）

---

## 先记住这张图

写PRD前先画一张**核心概念图**（Mermaid），回答：谁 能看见 什么

```mermaid
flowchart LR
    subgraph 角色A的视图
        A1[数据1]
        A2[数据2]
    end
    subgraph 角色B的视图
        B1[数据3]
    end
    subgraph 系统全部数据
        C1[数据1] -.分配.-\u003e A1
        C2[数据2] -.分配.-\u003e A2
        C3[数据3] -.分配.-\u003e B1
        C4[数据4] -.未分配.-\u003e X[看不见]
    end
```

---

## 什么不要写（颗粒度红线）

PRD只回答这4个问题，其他都删掉：

1. **谁**在**什么场景**下要做什么
2. 系统支持后，**业务结果**是什么（谁能看到/不能看到）
3. **关键规则**是什么（必填项/生效规则/有效期）
4. **最终预期标准**怎么判（业务可验证）

**以下内容直接删除**：
- 表名/字段名/类名/SQL/接口路径
- 失败提示逐字文案（如"XX不能为空"）
- 超级管理员例外策略
- 去重/幂等/缓存/刷新机制等技术实现
- 大段背景铺垫（如"在现代企业中..."）

**判断标准**：如果回答的是"系统怎么实现"而不是"业务上发生了什么"，就删掉。

---

## 怎么写（填空模板）

按以下结构填空，不要自创章节：

```markdown
# XX功能 产品需求文档

**文档类型**：产品需求文档
**适用对象**：业务人员、产品、运营

| 版本号 | 更新时间 | 备注 |
|--------|----------|------|
| v1.0 | yyyy-MM-dd | 初版 |

---

## 〇、先看懂这张图

[放Mermaid图，回答"谁 能看见 什么"]

**一句话**：[功能是什么，解决什么问题]

---

## 一、这是什么

[1-2句话定义功能]

| 场景 | 作用 |
|------|------|
| [场景1] | [一句话效果] |
| [场景2] | [一句话效果] |

**术语**：[术语1] = [大白话解释]；[术语2] = [大白话解释]

---

## 二、典型场景（3-5个）

### 场景1：[具体名称]

```
[角色]操作：[动作1] → [动作2] → [动作3]
         ↓
结果：[谁能看见什么]
```

### 场景2：[具体名称]
...

---

## 三、怎么用

**谁可以**：
- [角色A]：[能做什么]
- [角色B]：[能做什么]

**怎么操作**：[选XX] → [填XX] → [点XX]

---

## 四、关键规则

### 规则1：[规则名称]
- [要点1]
- [要点2]

**举例**：[具体例子]

### 规则2：[规则名称]
...

---

## 五、最终预期标准

- [ ] [验收项1]
- [ ] [验收项2]
- [ ] [验收项3]
```

---

## 写作技巧

### 1. 能删就删
- 删除"背景介绍"式铺垫
- 删除重复描述
- 删除显而易见的常识

### 2. 场景用代码块
**不要**：
```markdown
背景：销售小李负责ABC公司...
操作：主管进入系统，点击XX菜单...
结果：小李登录后可以看到...
```

**要**：
```markdown
```
主管操作：选销售"小李" → 勾公司"ABC" → 设有效期
         ↓
结果：小李登录只能看到ABC公司的数据
```
```

### 3. 大白话
| 不要写 | 要写 |
|--------|------|
| "实现客户资源的精细化管理" | "销售只能看到自己负责的客户" |
| "构建完善的权限隔离机制" | "没指派的客户，搜也搜不到" |
| "提供便捷的一站式操作体验" | "选销售→选公司→设日期→保存" |

### 4. 最终预期标准用Checklist
**不要**：
```markdown
- 管理员在本机构范围内完成指派后，销售登录订单页面仅看到被指派客户数据
```

**要**：
```markdown
- [ ] 主管配了客户后，销售登录只能看到这些客户
```

---

## 完整示例（客情管理PRD）

```markdown
# 客情管理 产品需求文档

**文档类型**：产品需求文档
**适用对象**：业务人员、产品、运营

| 版本号 | 更新时间 | 备注 |
|--------|----------|------|
| v1.0 | 2026-02-27 | 初版 |

---

## 〇、先看懂这张图

```mermaid
flowchart LR
    subgraph 销售A的视图
        A1[客户甲]
        A2[客户乙]
    end
    subgraph 销售B的视图
        B1[客户丙]
    end
    subgraph 系统全部客户
        C1[客户甲] -.指派.-\u003e A1
        C2[客户乙] -.指派.-\u003e A2
        C3[客户丙] -.指派.-\u003e B1
        C4[客户丁] -.未指派.-\u003e X[看不见]
    end
```

**一句话**：配置"谁负责哪些客户到什么时候"，销售只能看到自己负责的客户。

---

## 一、这是什么

配置销售与客户的关系及有效期。配置后销售只能看到自己负责的客户数据。

| 场景 | 作用 |
|------|------|
| 销售各管一摊 | 销售A和B互不干扰 |
| 客户换人跟 | 调岗时把客户转给新人 |
| 临时帮忙 | 到期自动收回权限 |
| 销售自己获客 | 分享链接，客户注册自动绑定 |

**术语**：指派 = 谁负责哪些客户从哪天到哪天；有效期 = 这期间销售才能看见客户。

---

## 二、典型场景

### 新人入职分客户

```
主管操作：选销售"小李" → 勾"ABC公司""DEF公司" → 设有效期
         ↓
结果：小李登录只能看到这两家公司的订单
```

### 客户交接（老王转给小张）

**直接换人**：
```
删除：老王 负责 ABC公司
新增：小张 负责 ABC公司
```

**带交接期（两人同时负责）**：
```
老王：负责 ABC公司，2025-01-01 至 2025-05-31
小张：负责 ABC公司，2025-05-01 至 2025-12-31
         ↓
5月份两人都能看见，6月起只有小张能看见
```

### 销售分享链接获客

```
小李点击"获取专属链接" → 复制发给客户
                        ↓
客户点击注册 ─────────────────→ 注册成功，自动绑定小李
                        ↓
小李的客情列表自动出现新客户
```

---

## 三、怎么用

**谁可以**：
- 主管/管理员：给销售配客户
- 销售：生成专属链接去获客

**怎么操作**：选销售 → 选公司（可多选）→ 设开始/结束日期 → 保存

---

## 四、关键规则

### 规则1：看不见的就是看不见
- 销售只能看到指派中的客户
- 订单、账单等所有数据都按这个过滤
- 没指派的客户搜也搜不到

**举例**：小王负责2家客户，系统共100家。小王最多看到2家，其余98家完全不可见。

### 规则2：有效期管得死死的
```
指派：小李 负责 ABC公司  2025-01-01 至 2025-06-30

2024年12月：看不见（还没到）
2025年3月：能看见（有效期内）
2025年7月：看不见（已过期，自动收回）
```

### 规则3：不能跨机构
A渠道商的主管只能配A渠道商的销售和客户，不能配B渠道商的。

---

## 五、最终预期标准

- [ ] 主管配了客户后，销售登录只能看到这些客户的数据
- [ ] 有效期没到/已过期，销售看不见客户
- [ ] 销售A和销售B各自负责不同客户，互相看不见对方的
- [ ] 同一家客户同时指派给两人，两人都能看见
- [ ] 销售分享专属链接，客户通过链接注册后自动绑定该销售
```

---

## 自检清单（写完后检查）

- [ ] 全文150~250行（复杂功能可酌情增加，但建议拆分）
- [ ] 开头有一张Mermaid图
- [ ] 场景用代码块+箭头，不是大段文字
- [ ] 没有"一句话说明"/"能解决什么问题"等提示词式标题
- [ ] 没有表名/字段名/接口路径等技术词
- [ ] 最终预期标准是checklist（- [ ]）不是长句
- [ ] 用大白话，没有"精细化管理"/"权限隔离机制"等套话
